<HTML>
<CENTER><A HREF = "http://sparta.sandia.gov">SPARTA WWW Site</A> - <A HREF = "Manual.html">SPARTA Documentation</A> - <A HREF = "Section_commands.html#comm">SPARTA Commands</A> 
</CENTER>


<HR>

<H3>fix elecmode command
</H3>

<P><B>Syntax:</B>
</P>
<PRE>fix ID vibmode  
</PRE>
<UL><LI>ID is documented in <A HREF = "fix.html">fix</A> command
<LI>elecmode = style name of this fix command 
</UL>
<P><B>Examples:</B>
</P>
<PRE>fix 1 elecmode
</PRE>
<P><B>Description:</B>
</P>
<P>Enable electronic energy states, defined on a per-species
basis, to be used in a simulation.  This fix is meant to be used with
the <A HREF = "collide_modify.html">collide_modify electronic discrete</A> setting.
This fix allocates per-particle storage for the electronic state.
Collisions between pairs of particles will then transfer energy
between the different electronic states of the two particles.
</P>
<P>Internally, this fix defines custom particle attributes named
<I>elecstate</I> and <I>eelec</I>. They are integer and double typed arrays
with a single value for each particle. See the <I>species</I>
command for how the electronic states are defined for each 
species.

<P><B>Restart, output info:</B>
</P>
<P>No information about this fix is written to <A HREF = "restart.html">binary restart
files</A>
</P>
<P>
However, the values of the custom particle attribute defined by this
fix are written to the restart file. As explained on the
<A HREF = "read_restart.html">read_restart</A> doc page these values can be
re-assigned to particles when a restart file is read, if a new fix
elecmode command is specified in the restart script before the first
<A HREF = "run.html">run</A> command is used.
</P>
<P>
No global or per-particle or per-grid quantities are stored by this
fix for access by various output commands.
</P>
<P>
However, the custom particle attributes defined by this fix can be
accessed by the <A HREF = "dump_particle.html">dump particle</A> command, as p_elecstate and p_eelec.
That means those per-particle values can be written to particle dump files.
</P>
<P><B>Restrictions:</B>
</P>
<P>This fix is required if <A HREF = "collide_modify.html">collide_modify electronic discrete</A> is used.
In this scenario, if it is not defined, an
error will occur when a "create_particles" or <A HREF = "run.html">run</A> command
is issued.
</P>
<P>
Defining this fix after particles have been created will not populate
the electronic energy modes of particles that already exist.  An
exception is if the <A HREF = "read_restart.html">read_restart</A> command is used
to read in particles from a previous simulation where this fix was
used.  In that case, defining this fix after reading the restart file
will enable the particles to keep their previous electronic energy
mode values.
</P>
<P><B>Related commands:</B>
</P>
<P><A HREF = "collide_modify.html">collide_modify vibrate discrete</A>
</P>
<P><B>Default:</B> none
</P>
</HTML>
