<HTML>
<CENTER><A HREF = "http://sparta.sandia.gov">SPARTA WWW Site</A> - <A HREF = "Manual.html">SPARTA Documentation</A> - <A HREF = "Section_commands.html#comm">SPARTA Commands</A> 
</CENTER>






<HR>

<H3>fix field/forcing/grid command 
</H3>
<P><B>Syntax:</B>
</P>
<PRE>fix ID field/forcing/grid epsilon Nkspace k1x k1y k1z k2x k2y k2z ... 
</PRE>
<UL><LI>ID is documented in <A HREF = "fix.html">fix</A> command
<LI>field/forcing/grid = style name of this fix command
<LI>epsilon = param for forcing field (units?)
<LI>Nkspace = # of Kspace vectors contributing to forcing field
<LI>k1x,k1y,k1z = 3 components of 1st Kspace vector
<LI>k2x,k2y,k2z = 3 components of 2nd Kspace vector, etc 
</UL>
<P><B>Examples:</B>
</P>
<PRE>fix stoch field/forcing/grid 1.0 3 1 0 0 0 1 0 0 0 1 
</PRE>
<P><B>Description:</B>
</P>
<P>RYAN: Needs an appropriate technical description and basic eqs.
</P>
<P>Each timestep when a particle is advected the acceleration vector (a)
for the grid cell it is in acts as a perturbation on straight-line
motion which affects both the end-of-timestep position (x) and
velocity (v) vectors of the particle:
</P>
<PRE>xnew = x + dt*v + 0.5*a*dt^2
vnew = v + dt*a 
</PRE>
<HR>

<P>Note that the <A HREF = "global.html">global field</A> command provides three
alternatives for specifying an external field:
</P>
<PRE>global field constant ...     # field is constant in space and time
global field particle ...     # field is applied on a per particle basis
global field grid ...         # field is applied on a per grid cell basis 
</PRE>
<P>This fix is only used for per-grid fields. 
</P>
<P>Note that use of the <A HREF = "global.html">global field grid</A> command with this
fix will update the field as often as requested.
</P>
<P><B>Restart, output info:</B>
</P>
<P>No information about this fix is written to <A HREF = "restart.html">binary restart
files</A>.
</P>
<P>This fix stores a per-grid cell array of values which can be accessed
by various output commands on any timestep, e.g. by the <A HREF = "dump.html">dump
grid</A> command.  The values are those produced by evaluating
the grid-style variables.  The number of rows in the array is the
number of grid cells this processor owns.  The number of columns in
the array is the number of non-NULL variables specified.
</P>
<P><B>Restrictions:</B> none
</P>
<P><B>Related commands:</B>
</P>
<P><A HREF = "fix_field_grid.html">fix field/grid</A>, <A HREF = "global.html">global field</A>
</P>
<P><B>Default:</B> none
</P>
</HTML>
